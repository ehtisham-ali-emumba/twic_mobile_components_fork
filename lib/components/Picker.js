var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.Picker=exports.PickerIcon=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativePickerSelect=_interopRequireDefault(require("react-native-picker-select"));var _reactNativePaper=require("react-native-paper");var _reactIf=require("react-if");var _AntDesign=_interopRequireDefault(require("react-native-vector-icons/AntDesign"));var _commons=require("../commons");var _AppStyledComponents=require("./AppStyledComponents");var _this=this,_jsxFileName="/Users/mbp/Documents/twic/twic_mobile_components-master-fork/src/components/Picker.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var isEmptyOrNil=_commons.Utilities.isEmptyOrNil;var PickerIcon=function PickerIcon(props){var color=props.color,iconTop=props.iconTop;var pickerStyle=_commons.APP_CONSTANTS.IS_ANDROID?{position:'absolute',top:iconTop,right:_commons.Metrics.smallMargin,color:color}:{color:color,right:2};return React.createElement(_AntDesign.default,{name:"caretdown",style:pickerStyle,size:_commons.APP_CONSTANTS.IS_ANDROID?_commons.Fonts.size.tiny:_commons.Fonts.size.extraSmall,color:color,__self:_this,__source:{fileName:_jsxFileName,lineNumber:25,columnNumber:10}});};exports.PickerIcon=PickerIcon;var PICKER_THEME={fonts:{medium:{fontFamily:'TTCommons-Regular'}},roundness:_commons.Metrics.baseMargin};var Picker=function Picker(props){var _React$useState=React.useState({pickerColor:_commons.Colors.newDimGrey,text:_commons.Colors.newCharcoalDarkGrey,icon:_commons.Colors.charcoalLightGrey}),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),colors=_React$useState2[0],setColors=_React$useState2[1];var textInputRef=React.useRef(null);var placeholderText=props.placeholderText,value=props.value,_props$errorMessage=props.errorMessage,errorMessage=_props$errorMessage===void 0?'':_props$errorMessage,_props$pickerMode=props.pickerMode,pickerMode=_props$pickerMode===void 0?'outlined':_props$pickerMode,_props$customErrorCon=props.customErrorContainerStyle,customErrorContainerStyle=_props$customErrorCon===void 0?{}:_props$customErrorCon,_props$customInputSty=props.customInputStyle,customInputStyle=_props$customInputSty===void 0?{}:_props$customInputSty,onValueChange=props.onValueChange,onDonePress=props.onDonePress,_props$onOpenHandler=props.onOpenHandler,onOpenHandler=_props$onOpenHandler===void 0?function(){}:_props$onOpenHandler,items=props.items,_props$testId=props.testId,testId=_props$testId===void 0?'':_props$testId,RenderCustomIcon=props.RenderCustomIcon,_props$pickerIOSConta=props.pickerIOSContainer,pickerIOSContainer=_props$pickerIOSConta===void 0?{}:_props$pickerIOSConta,_props$pickerAndroidC=props.pickerAndroidContainer,pickerAndroidContainer=_props$pickerAndroidC===void 0?{}:_props$pickerAndroidC,_props$hidePlaceholde=props.hidePlaceholder,hidePlaceholder=_props$hidePlaceholde===void 0?false:_props$hidePlaceholde,_props$label=props.label,label=_props$label===void 0?'':_props$label,_props$textInputConta=props.textInputContainerStyle,textInputContainerStyle=_props$textInputConta===void 0?{}:_props$textInputConta,_props$textProps=props.textProps,textProps=_props$textProps===void 0?{}:_props$textProps;var isDisabled=isEmptyOrNil(items);var pickerStateColor=isDisabled?_commons.Colors.newDisabled:isEmptyOrNil(errorMessage)?colors.pickerColor:_commons.Colors.error;var textColor=isDisabled?_commons.Colors.disabledText:isEmptyOrNil(errorMessage)?colors.text:_commons.Colors.error;var iconColor=isDisabled?_commons.Colors.disabledText:colors.icon;var pickerMarginTop=pickerMode==='flat'?_commons.Metrics.doubleBaseMargin:3;var onOpenSelect=function onOpenSelect(){textInputRef.current.handleFocus();setColors((0,_extends2.default)({},colors,{pickerColor:_commons.Colors.newBlue,icon:_commons.Colors.newBlue}));if(!_commons.APP_CONSTANTS.IS_ANDROID){onOpenHandler();}};var onCloseSelect=function onCloseSelect(){textInputRef.current.handleBlur();setColors((0,_extends2.default)({},colors,{pickerColor:_commons.Colors.newDimGrey,icon:_commons.Colors.charcoalLightGrey}));};var PickerOSSpecificProps=_commons.APP_CONSTANTS.IS_ANDROID?{pickerProps:{onFocus:function onFocus(){return onOpenSelect();},onBlur:function onBlur(){return onCloseSelect();},dropdownIconColor:'#ffffff',dropdownIconRippleColor:'#ffffff'}}:{onClose:function onClose(){return onCloseSelect();},onOpen:function onOpen(){return onOpenSelect();}};return React.createElement(React.Fragment,null,React.createElement(_reactNativePaper.TextInput,(0,_extends2.default)({ref:textInputRef,theme:(0,_extends2.default)({},PICKER_THEME,{colors:{primary:_commons.Colors.blue,error:_commons.Colors.error,disabled:_commons.Colors.disabled,placeholder:pickerStateColor,text:_commons.Colors.black}}),style:(0,_extends2.default)({backgroundColor:_commons.Colors.white},textInputContainerStyle),mode:pickerMode,label:!isEmptyOrNil(value)?label:'',value:!isEmptyOrNil(value)?value:'',error:!isEmptyOrNil(errorMessage)?true:false,underlineColor:pickerStateColor,underlineColorAndroid:pickerStateColor,textAlign:"auto",render:function render(){return React.createElement(_reactNativePickerSelect.default,(0,_extends2.default)({style:(0,_extends2.default)({placeholder:{color:isEmptyOrNil(errorMessage)?pickerStateColor:_commons.Colors.error}},pickerStyles,{inputIOSContainer:(0,_extends2.default)({marginTop:pickerMarginTop,height:50},pickerIOSContainer),inputAndroidContainer:(0,_extends2.default)({marginTop:pickerMarginTop,height:50},pickerAndroidContainer)}),placeholder:hidePlaceholder?{}:{label:""+placeholderText,value:null},key:items.length,textInputProps:(0,_extends2.default)({fontSize:_commons.Fonts.size.regular-1,fontFamily:'TTCommons-Regular',maxFontSizeMultiplier:1.1,width:'95%',color:textColor,marginTop:-3},customInputStyle),Icon:function Icon(){return RenderCustomIcon?RenderCustomIcon():React.createElement(PickerIcon,{color:isEmptyOrNil(errorMessage)?iconColor:_commons.Colors.error,__self:_this,__source:{fileName:_jsxFileName,lineNumber:194,columnNumber:66}});},itemKey:value,onValueChange:onValueChange,onDonePress:onDonePress,items:items,disabled:isDisabled,testID:testId,accessibilityLabel:testId},PickerOSSpecificProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:157,columnNumber:11}}));}},textProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:136,columnNumber:7}})),React.createElement(_reactIf.If,{condition:!isDisabled&&!isEmptyOrNil(errorMessage),__self:_this,__source:{fileName:_jsxFileName,lineNumber:210,columnNumber:7}},React.createElement(_reactIf.Then,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:211,columnNumber:9}},React.createElement(_reactNative.View,{style:(0,_extends2.default)({},customErrorContainerStyle),__self:_this,__source:{fileName:_jsxFileName,lineNumber:212,columnNumber:11}},React.createElement(_AppStyledComponents.AppText,{color:_commons.Colors.error,fontSize:_commons.Fonts.size.small,testID:testId+"-error",accessibilityLabel:testId+"-error",__self:_this,__source:{fileName:_jsxFileName,lineNumber:217,columnNumber:13}},errorMessage)))));};exports.Picker=Picker;var pickerStyles=_reactNative.StyleSheet.create({iconContainer:{justifyContent:'center',height:'100%',marginRight:15},inputIOS:{fontSize:16,height:56,paddingHorizontal:14,textAlignVertical:'center',color:_commons.Colors.black,width:'100%',paddingRight:30},inputAndroid:{fontSize:16,height:56,paddingHorizontal:14,color:_commons.Colors.black,textAlignVertical:'center',width:'100%',paddingRight:30,marginLeft:5}});
//# sourceMappingURL=Picker.js.map